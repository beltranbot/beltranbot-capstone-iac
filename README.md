# setup

1. create database a with all the tables and entries required, then create a snapshot out of it. Note the snapshot name.
2. create the keys for the bastion and webserver instances, note the name of the keys
  - ssh-keygen -f <key-name>
3. create the AMI for the webserver instances, you can use packer to create it.
  - cd ./packer
  - fill the required variables in the variables element in the 00_create_custom_ami.json file
  - keep in mind that you need to know the db_host to be used beforehand and the app_port needs to match with the one used for erraform later.
  - you can validate the packer template with:
    packer validate 00_create_custom_ami.json
  - you can create the ami with:
    packer build 00_create_custom_ami.json
4. go back to the root folder and set up the required variables copying the terraform.tfvars.example file
  cp terraform.tfvars.example terraform.tfvars
  - fill the required variables
  - use the ami id generated by packer
  - there are some extra variables with default values that can be found in the variables.tf file
    - VPC_PREFIX
    - the .pub files should be used for the "path_to_*_public_key" variables
5. verify that the terraform set up is correct by typing
  terraform plan
6. if everything is fine you can start creating the resources with:
  terraform apply
  - type "yes" when prompted
7. after all is done you can delete the resources with
  terraform destroy
